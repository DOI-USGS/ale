KPL/IK

MSL_MASTCAM_RIGHT Instrument Kernel
==============================================================================


Version and Date
----------------------------------------------------------

   Tue Jul 31 15:46:21 PDT 2012


Pedigree
----------------------------------------------------------

   This IK was generated by a script. All nominal parameters provided
   in this IK were obtained from the camera CDR materials; all actual
   parameters were copied/derived from the camera CAHVOR(E) model file
   'MSL_CAL_003_SN_3004_FILTER_0_FOCUS_02702-MCAMR-FLIGHT.cahvor'.


Camera CCD Dimensions
----------------------------------------------------------

   The camera CCD dimensions are provided in the keywords below. The
   pixels are numbered left-to-right, top-to-bottom with the top-left
   pixel indexed (0,0).

   \begindata

      INS-76220_FOV_CENTER_PIXEL      = ( 823.5, 599.5 )
      INS-76220_PIXEL_SAMPLES         = ( 1648 )
      INS-76220_PIXEL_LINES           = ( 1200 )

   \begintext


Camera Boresight and Distortion Center Locations
----------------------------------------------------------

   The camera boresight and distortion center locations in pixel
   coordinates, computed from the model data using these formulas:

      boresight sample  =  H dot A
      boresight line    =  V dot A
      distortion sample = (O dot H) / (O dot A)
      distortion line   = (O dot V) / (O dot A)

   are:

   \begindata

      INS-76220_BORESIGHT_PIXEL       = ( 859.44651228, 534.29411479 )
      INS-76220_DISTORTION_PIXEL      = ( 767.27622715, 668.16368416 )

   \begintext


Nominal Camera Parameters
----------------------------------------------------------

   The nominal camera focal length and physical pixel size, both in
   millimeters, along with the nominal pixel IFOV, in degrees, are provided
   in the keywords below.

   \begindata

      INS-76220_FOCAL_LENGTH          = ( 100 )
      INS-76220_PIXEL_SIZE            = ( 0.0074 )
      INS-76220_IFOV_NOMINAL          = (    0.00423989 )

   \begintext


Camera FOV Definition
----------------------------------------------------------

   To better reflect distortion in the camera optics the FOV is defined as
   a polygonal pyramid with the tip at the camera focal point and the edges
   along the view directions of the corner pixels and the side-middle pixels.
   Specifically the boundary vectors provided in the FOV_BOUNDARY
   keyword corresponds to view directions of the centers of these
   pixels provided in this order:

                     (    0.0,    0.0 )
                     (  823.5,    0.0 )
                     ( 1647.0,    0.0 )
                     ( 1647.0,  599.5 )
                     ( 1647.0, 1199.0 )
                     (  823.5, 1199.0 )
                     (    0.0, 1199.0 )
                     (    0.0,  599.5 )

   The boresight direction corresponds to the view direction of the center
   pixel, (823.5,599.5).

   All directions are unit vectors specified in the 'MSL_MASTCAM_RIGHT'
   frame.

   \begindata

      INS-76220_FOV_FRAME             = ( 'MSL_MASTCAM_RIGHT' )
      INS-76220_FOV_SHAPE             = ( 'POLYGON' )
      INS-76220_FOV_CLASS_SPEC        = ( 'CORNERS' )
      INS-76220_BORESIGHT             = (
                                     0.00000000   0.00000000   1.00000000
                                         )
      INS-76220_FOV_BOUNDARY          = (

                                     0.06091935   0.04433268   0.99715768
                                     0.00000000   0.04462814   0.99900367
                                    -0.06080956   0.04423678   0.99716864
                                    -0.06106251  -0.00005126   0.99813394
                                    -0.06083571  -0.04440396   0.99715962
                                     0.00002390  -0.04469527   0.99900067
                                     0.06099392  -0.04440530   0.99714989
                                     0.06117482  -0.00000350   0.99812707
                                         )

   \begintext


Actual Camera IFOV
----------------------------------------------------------

   The actual average vertical and horizontal pixel IFOVs were computed by
   dividing the angular extent between the view directions of pixels
   (823.5,0) and (823.5,1199) for the vertical direction and between
   (0,599.5) and (1647,599.5) for the horizontal direction by the number
   of pixels minus 1. The average IFOV is simply an average of the
   vertical and horizontal IFOVs.

   In the keywords below the IFOVs are provided in degrees.

   \begindata

      INS-76220_IFOV_VERTICAL         = ( 0.00426986 )
      INS-76220_IFOV_HORIZONTAL       = ( 0.00425504 )
      INS-76220_IFOV                  = ( 0.00426245 )

   \begintext


Source CAHVOR(E) Parameters

   The keywords below contain parameters of the CAHVOR(E) model from
   which all actual camera parameters provided in this file have been
   derived. Note that the reference quaternion (CAHVOR_QUAT) is not a
   SPICE-style but an engineering style quaternion (s1,s2,s3,c.)

   \begindata

      INS-76220_CAHVOR_FILE  = ( 'MSL_CAL_003_SN_3004_FILTER_0_FOCUS_02702-MCAMR-FLIGHT.cahvor' )
      INS-76220_CAHVOR_MODEL = ( ' CAHVOR ' )

      INS-76220_CAHVOR_DIMS  = (  1648 1200 )

      INS-76220_CAHVOR_C     = (       0.872866      0.677208     -1.970931 )
      INS-76220_CAHVOR_A     = (       0.999741     -0.022668      0.001764 )
      INS-76220_CAHVOR_H     = (    1162.600942  13353.117702    -93.448986 )
      INS-76220_CAHVOR_V     = (     512.731806     83.454058  13371.226140 )
      INS-76220_CAHVOR_O     = (       0.999495     -0.029483      0.011824 )
      INS-76220_CAHVOR_R     = (      -0.000106      1.436779     -0.685884 )
      
      INS-76220_CAHVOR_HS    = (   13376.370999 )
      INS-76220_CAHVOR_HC    = (     859.446513 )
      INS-76220_CAHVOR_VS    = (   13370.635765 )
      INS-76220_CAHVOR_VC    = (     534.294115 )
      INS-76220_CAHVOR_THETA = (      -1.570787 )

      INS-76220_CAHVOR_POS   = ( 0.80436 0.55942 -1.90608 )

      INS-76220_CAHVOR_QUAT  = ( 0.00001 -0.00325 -0.00104 0.99999 )


   \begintext

