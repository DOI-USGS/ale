KPL/IK

Chandrayaan-2 Orbiter TMC2 Instrument Kernel
============================================

   This Instrument Kernel (IK) file contains Field-Of-View (FOV) definitions for Chandrayaan-2 Orbiter TMC2 payload.


Version and Date
---------------------------------------------------------------------------

   Version 1.0 -- June 19, 2023 -- 
   SAC Optical Payload DP Team, SAC, Ahmedabad
   Flight Dynamics Group, URSC-ISRO, Bangalore


   Information provided by the Payload team - SEDA/SAC.
   
   Kernels Verified by - Flight Dynamics Group, URSC.


References
-------------------------------------------------------------------------

   1. Kernel Pool Required Reading

   2. C-kernel Required Reading

   3. GETFOV, getfoc_c, cspice_getfov headers


Contact Information
========================================================================


   SAC Optical Payload DP Team, SAC, Ahmedabad
   Flight Dynamics Group, URSC, Bangalore


Implementation Notes
-----------------------------------------------------------------------
 
   This file is used by the SPICE system as follows: programs that make
   use of this I-kernel must `load' the kernel, normally during program
   initialization. Loading the kernel associates data items with their
   names in a data structure called the `kernel pool'. The SPICELIB
   routine FURNSH loads a kernel file into the pool as shown below.

      CALL FURNSH ( I_kernel_name )    --FORTRAN
      furnsh_c    ( I_kernel_name );   --C

   In order for a program to extract data from the pool, the SPICELIB 
   routines GDPOOL and GIPOOL are used. See [3] for more details.

   This file was created and may be updated with a text editor or word
   processor.

TMC-2 Camera NAIF IDs
----------------------------------------------------------------------

   The following NAIF IDs are assigned to the camera and individual 
   TMC detectors:

      Name                NAIF ID
      ---------------------------
      CH2_TMC_NADIR       -152210
      CH2_TMC_FORE        -152211
      CH2_TMC_AFT         -152212
      ---------------------------

Keyword Naming Conventions
----------------------------------------------------------

   All names referencing values in this IK file start with the characters `INS' followed by the NAIF Chandrayaan-2 Orbiter spacecraft ID number(-152) followed by a NAIF three digit ID code for instrument. 
   
   The remainder of the keyword name is an underscore character followed by the unique name of the data item. For example, the TMC NADIR boresight direction in the TMC frame is specified by:

         INS-152210_BORESIGHT

   The upper bound on the length of the name of any data item is 32 characters.

   If the same item is included in more than one file, or if the same item appears more than once within a single file, the latest value supersedes any earlier values.


Instrument Overview
---------------------------------------------------------------------------
Terrain Mapping Camera-2 (TMC-2), on-board Chandrayan-2 Orbiter-craft is a follow-on of the TMC on-
board Chandrayan-1 TMC-2 payload is configured to provide panchromatic images (0.4μm to 0.85μm) in 
5m spatial resolution & stereo triplets (fore, nadir and aft views) from 100 km circular orbit around 
moon for preparing detailed 3-D map or Digital Elevation model (DEM) of the complete lunar surface 
(especially the smaller objects like craters, rilles, flow structures, smaller graben forms). TMC-2 
had same system specifications of TMC viz. IGFOV of 5m × 5m, swath coverage of 20km, 12bit digitization 
etc. except for spacecraft resource requirements. TMC consists of 3 modules, FORE, AFT and NADIR each 
having a Charge Couple Device (CCD) array of 4000 detectors of 7 microns each. collimators provide an 
angular acceptance of 11.48 degrees (i.e. +/- 5.74 deg). From the 100 km orbit of Chandrayaan-2, the 
TMC field of view is equivalent to a 20 km line of 5m width on the surface of the Moon. The collimator 
for each CCD is 140mm(focal length) high.  Length of the each detector array  28 mm.

                |<------  4000 detectors ----->|
                ----------........ ------------
     7 micron  |  |  |  | ........ |  |  |  |  | 
                ----------........-------------
                |<------     28 mm      ------>|


Mounting Alignment
---------------------------------------------------------------------------

   Refer to the latest version of the CHANDRAYAAN-2 Frames Definition
   Kernel (FK)  for the TMC2 reference frame definitions and
   mounting alignment information.

Field-of-View Layout
--------------------------------------------------------------


   TMC NADIR Field-of-View:
   ---------------------
                      
   
    .      FOV     .  ^

    |`.   .-.    .'|  |

    |  `.'   ` .'  |  |

    |    `.  .'    |  |

    |      `'      | 140mm

    |    .'  `.    |  |

    |  .'      `.  |  |

    |.'          `.|  |

    `--------------'  v

    |<- -28 mm- -->|


                         28 mm      
        FOV =     ( ATAN ----- )  = 11.44 deg.
                         140 mm 
    >From the 100 km altitude of Chandrayaan-2 S/C, an fov angle of 11.44 deg provides a footprint of 20 km on the lunar surface. (FWHM angle 5.72 deg). 


FOV Definitions
--------------------------------------------------------------

This section defines the FOV. These definitions are based on the TMC detector parameters provided in a format consistent with/required by the SPICe(CSPICE) function GETFOV (getfov_c). 
Mandatory key words if GETFOV will be used, are, INS-152000_FOV_FRAME, INS-152000_FOV_SHAPE and INS-152000_BORESIGHT.
 
 Here, the X axis of the instrument TMC NADIR is along the boresight (i.e 90 deg to the lunar surface). FOV_REF_ANGLE for TMC NADIR is 0 degrees from the X axis. FOV_CROSS_ANGLE is  +/-5.74 degrees.
                                   
                             Y        
                             ^
                             | (X axis is into this plane)           
           Z  <--------------x ------------->-Z
                             |            
					  -Y

                          
       
where the FOV_REF_VECTOR keyword specifies a reference
vector that, together with the boresight vector, define the plane in which the half angle given in the FOV_REF_ANGLE keyword is measured. The other half angle given in the FOV_CROSS_ANGLE keyword is measured in the plane normal to this plane and containing the boresight vector

TMC FORE is pointing to 26.01 deg from the X axis towards Y-axis of the instrument. So, Boresight vector for TMC FORE is along 26.01 deg from x-axis. FOV_REF_ANGLE and FOV_CROSS_ANGLE for TMC FORE is same as TMC_NADIR that is 0 deg and +/-5.74 deg respectively.

TMC AFT is pointing to 25.22 deg from the X axis towards Y-axis of the instrument. So, Boresight vector for TMC FORE is along 25.22 deg from x-axis. FOV_REF_ANGLE and FOV_CROSS_ANGLE for TMC AFT is same as TMC_NADIR that is 0 deg and +/-5.74 deg respectively.

Camera Optics Parameters
--------------------------------------------------------
 
   The following table summarizes TMC individual detector optics 
   parameters:
 
      Camera           Focal Length, mm     Aperture, mm       F number
      ------------------------------------------------------------------
      AFT                   140                  35              4
      NADIR                 140                  35              4     
      FORE                  140                  35              4 
      ------------------------------------------------------------------

   These values are incorporated in the keywords below. focal lengths
   and aperture are converted to meters.

      \begindata

      INS-152210_FOCAL_LENGTH = ( 140.0 ) 
      INS-152210_APERTURE     = ( 35.0 )
      INS-152210_F_NUMBER     = ( 4.0 )
      
      INS-152211_FOCAL_LENGTH = ( 140.0 )
      INS-152211_APERTURE     = ( 35.0 )
      INS-152211_F_NUMBER     = ( 4.0 )
      
      INS-152212_FOCAL_LENGTH = ( 140.0 )
      INS-152212_APERTURE     = ( 35.0 )
      INS-152212_F_NUMBER     = ( 4.0 )
      
      \begintext

Camera Detector Parameters
--------------------------------------------------------
 
   The following table summarizes TMC individual  
   detector parameters. As these data show the detectors are all line 
   arrays.
 
      Camera                 Lines      Pixels    Pixel Size, microns
      ---------------------------------------------------------------
      TMC-2 Nadir            1         4000             7
      TMC-2 Fore             1         4000             7
      TMC-2 Aft              1         4000             7
      ---------------------------------------------------------------

   These values are incorporated in the keywords below; pixel sizes 
   are converted to meters.

      \begindata

      INS-152210_PIXEL_SAMPLES  = ( 4000        )
      INS-152210_PIXEL_LINES    = ( 1           )
      INS-152210_CENTER         = ( 1999.5, 0.5 )       
      INS-152210_PIXEL_SIZE     = ( 0.000007    )

      INS-152211_PIXEL_SAMPLES  = ( 4000        )
      INS-152211_PIXEL_LINES    = ( 1           )
      INS-152211_CENTER         = ( 1999.5, 0.5 )       
      INS-152211_PIXEL_SIZE     = ( 0.000007    )
      
      INS-152212_PIXEL_SAMPLES  = ( 4000        )
      INS-152212_PIXEL_LINES    = ( 1           )
      INS-152212_CENTER         = ( 1999.5, 0.5 )       
      INS-152212_PIXEL_SIZE     = ( 0.000007    )


      \begintext


Camera FOV Definitions
--------------------------------------------------------

   This section defines the field of view (FOV) for each detector, using a
   rectangular shape.

   The FOVs are defined with respect to the corresponding camera frames.


      \begindata

	 INS-152000_PLATFORM_ID        = ( -152001 )
         INS-152210_FOV_CLASS_SPEC       = 'ANGLES'
         INS-152210_FOV_SHAPE            = 'RECTANGLE'
         INS-152210_FOV_FRAME            = 'CH2_TMC_NADIR'
         INS-152210_BORESIGHT            = ( 1.0, 0.0, 0.0 )
         INS-152210_FOV_REF_VECTOR       = (0.0, 1.0, 0.0 )
         INS-152210_FOV_REF_ANGLE        = ( 0.0 )
         INS-152210_FOV_CROSS_ANGLE      = ( 5.74 )
         INS-152210_FOV_ANGLE_UNITS      = ( 'DEGREES' )

         INS-152211_FOV_CLASS_SPEC       = 'ANGLES'
         INS-152211_FOV_SHAPE            = 'RECTANGLE'
         INS-152211_FOV_FRAME            = 'CH2_TMC_FORE'
         INS-152211_BORESIGHT            = (0.8988, 0.4385,0.0)
         INS-152211_FOV_REF_VECTOR       = (0.0, 1.0, 0.0 )
         INS-152211_FOV_REF_ANGLE        = (0.0 )
         INS-152211_FOV_CROSS_ANGLE      = ( 5.74 )
         INS-152211_FOV_ANGLE_UNITS      = ( 'DEGREES' )

         INS-152212_FOV_CLASS_SPEC       = 'ANGLES'
         INS-152212_FOV_SHAPE            = 'RECTANGLE'
         INS-152212_FOV_FRAME            = 'CH2_TMC_AFT'
         INS-152212_BORESIGHT            = (0.9047,-0.4261,0.0)
         INS-152212_FOV_REF_VECTOR       = (0.0, 1.0, 0.0 )
         INS-152212_FOV_REF_ANGLE        = ( 0.0 )
         INS-152212_FOV_CROSS_ANGLE      = ( 5.74 )
         INS-152212_FOV_ANGLE_UNITS      = ( 'DEGREES' )


      \begintext

End of the IK file.
